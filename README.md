## Лабораторная работа №2
## Мини-оболочка с файловыми командами
## Цель:
1) Освоить работу с файловой системой средствами Python.
2) Реализовать основные командыуправления файлами и каталогами.
3) Научиться вести журнал действий пользователя.
4) Освоить расширение функциональности за счет дополнительных модулей-плагинов.

## Работа с файловой системой в Python:
os, os.path, pathlib, shutil

## Функции оболочки:
1. Команда ls
- Отображение списка файлов и каталогов в текущем рабочем каталоге.
- Поддержка аргумента path (относительный или абсолютный путь).
- Поддержка опции -I для подробного отображения (имя, размер, дата изменения, права доступа).
2. Команда cd
- Переход в указанный каталог.
- Поддержка .. для перехода на уровень выше.
- Поддержка ~ для перехода в домашний каталог.
- В случае ошибки (каталог не существует) — вывод сообщения и запись в журнал.
3. Команда cat
- Вывод содержимого указанного файла в консоль.
- В случае передачи каталога вместо файла или отсутствия файла — ошибка и запись в журнал.
4. Команда ср
- Копирование файла из источника в назначение.
- Поддержка опции -г для рекурсивного копирования каталогов вместе с содержимым.
- В случае невозможности копирования (например, недостаточно прав) — сообщение об ошибке.
5. Команда mv
- Перемещение или переименование файла/каталога.
- Поддержка перемещения в существующий каталог.
- Проверка на существование источника и прав доступа.
6. Команда rm
- Удаление указанного файла.
- Поддержка опции -г для удаления каталога рекурсивно со всем содержимым.
- При удалении каталога требуется подтверждение (у/п).
- Ограничение: запрещено удалять корневой каталог (/) или родительский
7. Логиоование
- Все команды, выполненные пользователем, должны записываться в файл
shell.log.
- В лог пишется: дата/время, введённая команда, результат (успех/ошибка).
- Формат строки лога:
[2025-10-01 13:45:22] Is -I /home/user
[2025-10-01 13:45:23] ERROR: No such file or directory
8. Поддержка архивов (zip, tar)
- Команда zip <folder> <archive. zip> — создание архива формата ZIP из каталога.
- Команда unzip <archive. zip> — распаковка архива ZIP в текущий каталог.
- Команда tar <folder> <archive. tar. gz> — создание архива формата TAR.GZ.
- Команда untar <archive. tar. gz> — распаковка архива TAR.GZ.
- Все операции должны логироваться.
9. Поиск файлов по содержимому
- Команда grep <pattern> <path> — поиск строк, соответствующих шаблону pattern в файлах.
- Поддержка опции -г — рекурсивный поиск в подкаталогах.
- Поддержка опции -i — поиск без учёта регистра.
- Вывод: имя файла, номер строки и найденный фрагмент.
10. История команд и undo
- Команда history — вывод последних N введённых команд с их номерами.
- Команда undo — отмена последней команды из списка ср, mv, rm.
- Для ср: удаление скопированного файла/каталога.
- Для mv: возврат объекта в исходное место.
- Для rm: восстановление из временного каталога .trash. -• История хранится в файле . history и сохраняется между запусками.

## Структура проекта

 <pre>
    .
    ├── lab<# лабораторной работы>             # Кодовая база вашей лабораторной работы
    │   ├── src/                               # Исходный код
    │   ├── tests/                             # Unit тесты
    │   ├── uv.lock                            # зависимости вашего проекта
    │   ├── report.pdf                         # Отчет
    │   ├── .gitignore                         # git ignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание вашего проекта, с описанием файлов и с титульником о том,
                                               # что и какая задача
</pre>
## Допустимые команды:
        "ls [path] [-l]                      - List files/directories",
        "cd <a>                              - Change directory",
        "cat <file>                          - Show file content",
        "cp <object> <direction> [-r]        - Copy files/directories",
        "mv <object> <direction>             - Move files",
        "rm <object> [-r]                    - Remove files/directories",
        "zip <s> <archive>                   - Create zip archive",
        "unzip <archive>                     - Extract zip archive",
        "tar <s> <archive>                   - Create tar.gz archive",
        "untar <archive>                     - Extract tar.gz archive",
        "grep <stroka> <path>                - Search in files",
        "history                             - Show command history",
        "undo                                - Undo last command",
        "exit                                - Exit shell"

## Вывод:
Я освоила работу с файловой системой средствами Python, реализовав основные команды управления файлами, каталогами и дополнительные плагины, также создав систему логирования в shell.log

## Автор:
Петрова Эвелина М8О-103БВ-25
